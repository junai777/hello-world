Innodb特性:插入缓冲,两次写,


insert buffer不是每一次都插入到索引页中，而是先判断插入的非聚集索引是否在缓存池中，若在则直接插入。
若不在，则先放到一个insert buffer对象中，然后再以一定的频率和情况进行insert buffer和辅助索引页子节点的merge操作，
通常可以将多个插入合并到一个操作中，大大提高了插入的性能。


双写
避免数据页落盘时，宕机导致数据页损坏，因为数据页是16K，每次写是4K
步骤是先copy 到doublewrite buffer,然后两次写到共享表空间(顺序写)
然后再调用fsync同步数据到磁盘

自适应哈希
根据访问的频率来自动地为某些热点页建立哈希索引，只能用于等值查询

刷新邻接页
当刷新一个脏页时，会检测页所在区的所有页，如果是脏页则一起刷新

事务
会把数据库从一种一致性状态转化为另一种一致性状态。
在提交时，确保要么所有修改都保存了，要么所有修改都不保存。
符合ACID特性

redo log保证原子性和持久性
undo log保证一致性
mvcc保证隔离性

redo log 顺序写
undo log 随机写

redo log通过LSN来确定checkpoint开始的日志部分

undo log存放在共享表空间内的一个特殊段中
undo log是逻辑日志，作用是1.回滚2.mvcc
